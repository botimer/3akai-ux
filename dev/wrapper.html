<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" >
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Sakai 3 R&amp;D - __MSG__MY_SAKAI__</title>

        <link rel="stylesheet" type="text/css" href="_css/FSS/fss-base.css" />
        <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.base.css" />
        <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.core.2.css" />
        <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.my_sakai.css" />
        <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.search.css" />
        <link rel="stylesheet" type="text/css" href="/devwidgets/navigationchat/css/navigationchat.css" />
        <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.components.jq_pager.css" />
        <link rel="stylesheet" type="text/css" href="_lib/Jquery/imgareaselect/imgareaselect-default.css" />

        <script type="text/javascript" language="JavaScript" src="_configuration/widgets.js"></script>
        <script type="text/javascript" language="JavaScript" src="_configuration/config.js"></script>
        <script type="text/javascript" language="JavaScript" src="_lib/Fluid/InfusionAll.js"></script>
        <script type="text/javascript" language="JavaScript" src="_lib/sakai_util/trimpath.js"></script>
        <script type="text/javascript" language="JavaScript" src="_lib/Jquery/jquery.cookie.js"></script>
        <script type="text/javascript" language="JavaScript" src="_lib/GWT/gwt_caller.js"></script>
        <script type="text/javascript" language="JavaScript" src="_lib/sakai_util/sdata.js"></script>
        <script type="text/javascript" language="JavaScript" src="_lib/sakai_util/i18n.js"></script>
        <script type="text/javascript" language="JavaScript" src="_lib/sakai_util/site_authz.js"></script>
        <script type="text/javascript" language="JavaScript" src="_lib/Jquery/jquery.pager.js"></script>
        <script type="text/javascript" language="JavaScript" src="_lib/Jquery/ui.droppable.js"></script>
        <script type="text/javascript" language="JavaScript" src="_lib/Jquery/jquery.threedots.min.js"></script>
        <script type="text/javascript" language="JavaScript" src="_lib/Fluid/ProgressiveEnhancement.js"></script>

    </head>
<body>
<h1>Test case</h1>
<p style="margin: auto; width: 400px; background-color: white; color: black; border: 2px solid blue; padding: 2em; font-size: 16px">
This test case shows that, when loading widgets through the batch mechanism, link tags are picked up and loaded in the head even from commented templates, where they might need variable expansion.
</p>

<div id="self_container"></div>

<div id="self_template" style="display: none"><!--
    <h3>This h3 is rendered by a template in wrapper.html and so is the next link tag.</h3>
    <link rel="stylesheet" href="${foo}" />
--></div>

<script type="text/javascript">
$('#self_container').html($.Template.render('self_template', {foo: 'bar'}));
</script>

<div id="widget_chunk" class="widget_inline"></div>

</body>
</html>
